Azure AZ-900
-------------
https://www.udemy.com/course/azure-certification-az-900-azure-fundamentals/learn/lecture/26525596#overview

One of the primary reason we go for Azure(or any cloud) is to be able to deploy our application in multiple regions around the world. 
	-> The concept that helps to achieve above is known as Regions and Availability Zones in Azure.
	
Where do you deploy applications to in the cloud? 
--------------------------------------------------
	-> That is Virtual Machines, azure service that helps to create virtual machines is "Azure Virtual Machines".

In section 3, we will learn about how to create virtual machines? installing softwares? create multiple virtual machines? distribute the load between them?

Creating virtual machines? load balancers to balance the load between them is manual process, that we would make automatic with the help "Managed Compute Services" in Section 4.
	-> we would learn the fundamentals of IaaS, PaaS, SaaS and also some more important Managed Compute Services provided by Azure.
		-> Azure App Services
		-> Azure Container Instances
		-> Serverless with Azure Functions
		-> Shared responsibility model in Azure
		
In Section 5 - We would learn about different storage options provided by Azure - "Azure Storage"
Section 6 - Azure Databases (RDBMS, NoSQL) and related services provided by Azure.

Section 7 - Azure Networks(Azure virtual network, Firewall,subnets, Network security groups) and other services offered by Azure and some more best practices.

Section 8 - Organizing Azure Resource groups.

Before cloud challenges;
------------------------
	-> Peak load provisioning (Buy infrastructure for peak load(that we think max load))
	-> But always it would not be running in peak load, then huge resources setup would be sitting idle that time, most of the times during holidays, festivals it would be used peak load.
	-> Needs ahead of planning (as we would not know when our app would reach high and peak usage among customers) , hard to guess the future?
	-> When infra setup done, we need to employ infra maintenance team (would be costly for a startup to afford)		
		

Think about Cloud?
-------------------
	-> You don't need to pre-setup for Peak load, you will just need to increase the resource as the load increases, it goes vice versa when load decrease. CAPITAL EXPENSE changes to VARIABLE EXPENSE. Helps on-demand resource provisioning.
	-> which obviously helps the problem that we don't need to plan way ahead. Stop guessing the future.
	->  Go global in minutes. (just on a click app is deployed to multiple regions around the world!!!)
	-> Stop running and maintaining Data Centers.
	
Microsoft Azure
----------------
		It provides 200+ services. 
		Proved it as reliable, secure, cost-effective.
	
Account created, not sure but I was not able to create free account, then finally created account with Pay-as-you-go with gowthamn91@outlook.com.

										"Beware of it"
										
WHY REGIONS and ZONES?
=======================
Imagine I have an application hosted in a Data Center in LONDON.

What would be the challenges?
	1. Slow access for the user from other parts of the world (like Sydney, Mumbai, Chennai, NY etc.,) This is called a HIGH LATENCY.
	2. Right now our application is deployed in only data center, what if the data center crashes? Application goes down and unavailable. (LOW AVAILABILITY)

How do we solve these problems?
--------------------------------
	-> For 2nd problem, if we add one more data center in LONDON REGION, if one data center crashes, the other one can still serve the application. (SOLVES #2).
		-> But what if the entire London region goes down, then it is still a problem to be solved?
		-> To resolve this, lets add more region to our application, we deploy application to another region, this time lets assume "MUMBAI REGION", this makes our application to be HIGH AVAILABLE. if LONDON goes down, MUMBAI REGION would still serve our application users.
		-> Actually this approach would solve the first problem as well in a way if we deploy our applications in multiple regions around the world, so that all the users would be served by the Data Center closer to them which means HIGH LATENCY also resolved.

ADVANTAGES OF REGIONS AND AVAILABILITY ZONES
---------------------------------------------
	From the previous examples and details, it should be prettty clear that we have the below advantages of using Regions and Zones.
		1. High Availability
		2. Low Latency
		3. Global foot print for any start up to reach global within minutes and serve users across world.
		4. Helps to adhere to local government regulations, like we don't want to take any users data out of the particular country and store in that respective data center itself.

With Availability zones;
-------------------------
		1. High Availability and Fault tolerance within the region.
		 	
	Mostly Availability zones will have independent power, networking & connectivity to ensure failure in one data center does not affect the other data center (zone), hence any failure would make the other data center to serve the application with out much issue.

		Point to note is; not all the regions have availability zones, some has upto 3 AZ, some have nothing as well.
	
AZURE VIRTUAL MACHINES:
=======================
	Where do we deploy our applications? Typically in a Server, but in case of Cloud, we deploy it in Virtual Server.
	How do we provision Virtual Server? It is with the help service called - Azure Virtual Machine.
	In different Cloud Providers it is termed differently (like Compute Engine in GCP, EC2 in AWS). EC2 - Elastic Compute Cloud.

	Features offered by Azure Virtual Machines Service:
	---------------------------------------------------
		-> Create and Manage life cycle of the VM instances.
		-> Load Balancing and Auto Scaling for multiple VM instances based on the users.
		-> Manage Network Connectivity and Configuration for VMs which helps us to connect with VM and access applications hosted in it.
		-> Attach Storage to your VM instances.
		
Creating a VM from Portal:
---------------------------
			Search for Virtual Machine Resource and create.
			-> While creating VM we will need to create Resource Group under which this VM should go in.
			-> We also select image of OS.
			-> And the Region where this VM should be deployed to. There are many Regions will be listed, we can choose one based on the needs.
			-> Then the size of the VM (RAM, CPU, Data Disc that can be attached to)
			
			-> Also select an Http(80) inbound port so that when we install web application to this VM, through this port we will access our application.
			
			-> Review + Create -> runs validation -> once successful -> click Create button.
			
OK. I was able to create a VM and connect to it via SSH (Secure Shell) with help of "bash" there is an icon which opens Cloud Shell in Azure Portal. 

I had to first upload my private key file downloaded from the Cloud Shell.
Then I had to follow some commands, it was also listed in the Portal. Below are sample.		
			
Here are some of the commands we would execute in the next few steps:

You can refer back to this if you have problems. Good Luck.

chmod 400 my-first-vm_key.pem
ssh -i YOUR_KEY_PATH azureuser@PUBLIC_IP_ADDRESS (ssh -i my-first-vm_key.pem azureuser@52.190.58.93)

sudo su - before running the install command, make it a super user. 
apt-get -y update - updates packages
apt-get -y install nginx - installs nginx and launch it.
 
echo "Hello World"
echo "Hello World" > /var/www/html/index.html
echo "Hello World from in28minutes" > /var/www/html/index.html
 
hostname
echo "$(hostname)"
echo "Hello World from $(hostname)"
echo "Hello World from $(hostname)" > /var/www/html/index.html

KEY CONCEPTS OF VIRTUAL MACHINES:
---------------------------------
	1. Image - OS of the VM
	2. VM Family - if the VM is General Purpose/High Performance Compute/Memory Optimized
	3. VM Size - VM of same family can have different sizes like (no. of vCPU, RAM size, Disk storage and more.
	4. Disks - Attach Virtual Disk similar to HDD attach to laptop - this is done while creating a VM, we have a tab named "Disks" there we can create or attach an existing disk to the VM - A Data disk can also be created from Disks resource.
		-> There are different storage types available (Premium SSD, Standard SSD, Ultra Disk, Standard HDD).



Installed a web server to our VM - my-first-vm - nginx

nginx - is a popular web server similar to IIS (mainly for windows based apps), but nginx is light weight and cross platform supported.		

After running the command - apt-get -y install nginx - it installs and launches the webserver.
Post that if I hit the public IP: http://52.190.58.93/ - I am able to see the message whatever I echo from console.

	echo "Hello World" > /var/www/html/index.html - Displays "Hello World" in browser.
	
	One wonderful thing is I am able to open this page from my mobile as well. Thats Fantastic!!!!!!	
									POWER OF THE CLOUD!!!!!!!!!!!!!!!!!!!!
	
Now instead of doing these installation of nginx manually, we can have it automatically done on creation of the VM, we need to provide the above script that I add once below;
	
		"	
			#!/bin/sh - to mark it as bash script
			sudo su 
			apt-get -y update
			apt-get -y install nginx
			echo "Welcome to Gowthaman's VM $(hostname)" > /var/www/html/index.html
		"	

Then on creation it automatically installs nginx and launches it. May need to wait for few mins before launching the public IP address to check the message from browser.	

When we want to increase availability for the application?
-----------------------------------------------------------
	When we have only one VM instance running, the availability may depend on the hardware or disk that we use, for instance;
				-> Premium SSD or ultra disk - 99.9%
				-> Standard SSD Managed Disk - 99.5%
				-> Standard HDD Managed Disk - 95%
	
	If we need more availability, we can have two or more instances of VM running in Same Availability Sets	(grouping of resources based on Fault Domain and Update Domain)
		Fault Domain: The area of the data center which uses same power source and network Switch.
						It talks about physical boundary for the resource/instances so that the resources are spread across multiple fault domains to avoid any particular fault domain's failure does not affect all the instances and help us with high availability.
						
		Update Domain:
					  It mainly talks about logical grouping of resources based on the rolling out of the updates.
					When application is undergoing update process, not all the instances in the	
					update domain goes simultaneously, it goes through one by one which helps us in high availability when one update domain goes update process, the other instances in another update domain keeps serving the users.
					
	When needed even more availability, we need to have two or more instances of VM running in different Availability Zones in the same region: it can provide us about 99.99% of availability (four 9s) not so easy to achieve but most of the online apps aim for this.

Then to delete the VMs Created before going to next step:
---------------------------------------------------------
	Go to the respective VM - my-first-vm -> Delete -> Select all associated resource types -> (OS, Network interface, IP addresses)  